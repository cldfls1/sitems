═══════════════════════════════════════════════════════════
  ИСПРАВЛЕНИЕ "Error loading data" НА VERCEL
═══════════════════════════════════════════════════════════

ПРОБЛЕМА: Фронтенд не может подключиться к бэкенду на Vercel

ПРИЧИНА: Нет подключения к базе данных

═══════════════════════════════════════════════════════════
  ШАГ 1: СОЗДАЙ БАЗУ ДАННЫХ (2 минуты)
═══════════════════════════════════════════════════════════

1. Зайди на: https://neon.tech
2. Зарегистрируйся (можно через GitHub)
3. Нажми "Create a project"
4. Скопируй Connection String
   Выглядит так: postgresql://user:pass@ep-xxx.region.aws.neon.tech/dbname

═══════════════════════════════════════════════════════════
  ШАГ 2: ДОБАВЬ В VERCEL (1 минута)
═══════════════════════════════════════════════════════════

1. Открой: https://vercel.com/dashboard
2. Выбери свой проект
3. Settings → Environment Variables
4. Нажми "Add New"
5. Заполни:
   ┌────────────────────────────────────────┐
   │ Key:   DATABASE_URL                    │
   │ Value: postgresql://user:pass@host/db  │
   │ ✓ Production                           │
   └────────────────────────────────────────┘
6. Save

ДОПОЛНИТЕЛЬНО (рекомендуется):
   ┌────────────────────────────────────────┐
   │ Key:   SECRET_KEY                      │
   │ Value: your-random-secret-key-123      │
   │ ✓ Production                           │
   └────────────────────────────────────────┘

═══════════════════════════════════════════════════════════
  ШАГ 3: REDEPLOY (30 секунд)
═══════════════════════════════════════════════════════════

1. Deployments (левое меню)
2. Найди последний деплоймент (самый верхний)
3. Нажми три точки (⋮)
4. "Redeploy"
5. "Redeploy" (подтверди)

═══════════════════════════════════════════════════════════
  ШАГ 4: ПРОВЕРКА
═══════════════════════════════════════════════════════════

Через 2-3 минуты открой:
https://твой-сайт.vercel.app/api/health

Должен вернуть:
{
  "status": "ok",
  "version": "1.0.0"
}

Если работает → всё готово! 🎉
Если нет → смотри ниже ↓

═══════════════════════════════════════════════════════════
  ЕСЛИ НЕ РАБОТАЕТ
═══════════════════════════════════════════════════════════

1. Проверь DATABASE_URL:
   - Settings → Environment Variables
   - Убедись что переменная есть и правильная

2. Проверь логи:
   - Deployments → последний деплой → Functions
   - Посмотри ошибки

3. Проверь базу данных:
   - Зайди в Neon Dashboard
   - Убедись что проект активен

4. Попробуй ещё раз Redeploy

═══════════════════════════════════════════════════════════
  ЧТО БЫЛО ИСПРАВЛЕНО В КОДЕ
═══════════════════════════════════════════════════════════

✓ backend/index.py - создан entry point для Vercel (NEW!)
✓ backend/wsgi.py - добавлен sys.path fix (NEW!)
✓ vercel.json - настроен роутинг /api → backend/index.py
✓ frontend/src/utils/api.js - автоматически определяет URL
✓ frontend/src/pages/AdminNew.jsx - улучшены сообщения об ошибках
✓ backend/models_settings.py - исправлена ошибка SQLAlchemy

ВАЖНО! Запушить изменения:
1. git add .
2. git commit -m "Fix Vercel Python import paths"
3. git push

Vercel автоматически задеплоит изменения!

═══════════════════════════════════════════════════════════
  ВАЖНО!
═══════════════════════════════════════════════════════════

После первого успешного деплоя с DATABASE_URL:
- База автоматически создаст все таблицы
- Загрузятся примеры данных (проекты, навыки, etc)
- Admin панель заработает полностью

Логин в админку: admin / admin123

═══════════════════════════════════════════════════════════

Вопросы? Смотри:
- QUICK_FIX.md - краткая инструкция
- VERCEL_DEPLOY.md - подробная инструкция
- DEPLOYMENT.md - альтернативные варианты деплоя
